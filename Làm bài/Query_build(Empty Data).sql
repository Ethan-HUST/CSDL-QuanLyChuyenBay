CREATE DATABASE IF NOT EXISTS CSDL_20227180;
USE CSDL_20227180;

-- Tạo bảng KHACHHANG
CREATE TABLE KHACHHANG (
    MAKH VARCHAR(15),
    TEN NVARCHAR(50),
    DCHI NVARCHAR(50),
    DTHOAI VARCHAR(12),
    PRIMARY KEY (MAKH)
);

-- Tạo bảng NHANVIEN
CREATE TABLE NHANVIEN (
    MANV VARCHAR(15),
    TEN NVARCHAR(50),
    DCHI NVARCHAR(50),
    DTHOAI VARCHAR(12),
    LUONG FLOAT,
    LOAINV TINYINT,
    PRIMARY KEY (MANV)
);

-- Tạo bảng LOAIMB
CREATE TABLE LOAIMB (
    MALOAI VARCHAR(15),
    HANGSX NVARCHAR(50),
    PRIMARY KEY (MALOAI)
);

-- Tạo bảng MAYBAY
CREATE TABLE MAYBAY (
    SOHIEU INT,
    MALOAI VARCHAR(15),
    PRIMARY KEY (SOHIEU, MALOAI),
    FOREIGN KEY (MALOAI) REFERENCES LOAIMB(MALOAI)
);

-- Tạo bảng CHUYENBAY
CREATE TABLE CHUYENBAY (
    MACB VARCHAR(4),
    SBDI VARCHAR(50),
    SBDEN VARCHAR(50),
    GIODI TIME,
    GIODEN TIME,
    PRIMARY KEY (MACB)
);

-- Tạo bảng LICHBAY
CREATE TABLE LICHBAY (
    NGAYDI DATETIME,
    MACB VARCHAR(4),
    SOHIEU INT,
    MALOAI VARCHAR(15),
    PRIMARY KEY (NGAYDI, MACB),
    FOREIGN KEY (MACB) REFERENCES CHUYENBAY(MACB),
    FOREIGN KEY (SOHIEU, MALOAI) REFERENCES MAYBAY(SOHIEU, MALOAI)
);

-- Tạo bảng DATCHO
CREATE TABLE DATCHO (
    MAKH VARCHAR(15),
    NGAYDI DATETIME,
    MACB VARCHAR(4),
    PRIMARY KEY(MAKH, NGAYDI, MACB),
    FOREIGN KEY (MAKH) REFERENCES KHACHHANG(MAKH),
    FOREIGN KEY (NGAYDI, MACB) REFERENCES LICHBAY(NGAYDI, MACB)
);

-- Tạo bảng KHANANG
CREATE TABLE KHANANG (
    MANV VARCHAR(15),
    MALOAI VARCHAR(15),
    PRIMARY KEY (MANV, MALOAI),
    FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),
    FOREIGN KEY (MALOAI) REFERENCES LOAIMB(MALOAI)
);

-- Tạo bảng PHANCONG
CREATE TABLE PHANCONG (
    MANV VARCHAR(15),
    NGAYDI DATETIME,
    MACB VARCHAR(4),
    PRIMARY KEY (MANV, NGAYDI, MACB),
    FOREIGN KEY (MANV) REFERENCES NHANVIEN(MANV),
    FOREIGN KEY (NGAYDI, MACB) REFERENCES LICHBAY(NGAYDI, MACB)
);

-- Nhập dữ liệu cho bảng KHACHHANG
INSERT INTO KHACHHANG VALUES ('0009', 'Nguyen Thi Nga', '223 Nguyen Trai', '8932220');
INSERT INTO KHACHHANG VALUES ('0101', 'Truong Ngoc Anh', '567 Tran Phu', '8826729');
INSERT INTO KHACHHANG VALUES ('0045', 'Dinh Huyen Nhu', '285 Le Loi', '8932203');
INSERT INTO KHACHHANG VALUES ('0012', 'Pham Ngoc Hai Ha', '435 Quang Trung', '8933232');
INSERT INTO KHACHHANG VALUES ('0238', 'Do Quang Hung', '456 Pasteur', '9812101');
INSERT INTO KHACHHANG VALUES ('0397', 'Pham Thi Phuong Thanh', '234 Le Van Sy', '8952943');
INSERT INTO KHACHHANG VALUES ('0582', 'Duong Tuyet Mai', '789 Nguyen Du', NULL);
INSERT INTO KHACHHANG VALUES ('0934', 'Trinh Tran Quang Minh', '678 Le Lai', NULL);
INSERT INTO KHACHHANG VALUES ('0091', 'Nguyen Le Duc Hai', '345 Hung Vuong', '8893223');
INSERT INTO KHACHHANG VALUES ('0314', 'Le Duc Hai Phuong', '385 Vo Van Tuan', '8232320');
INSERT INTO KHACHHANG VALUES ('0613', 'Duong Trung Vu', '348 CMT8', '8343232');
INSERT INTO KHACHHANG VALUES ('0586', 'La Van Son', '123 Bach Dang', '8556223');
INSERT INTO KHACHHANG VALUES ('0422', 'Vu Thi Tien', '75 Nguyen Thong', '8332222');


-- Nhập dữ liệu cho bảng CHUYENBAY
INSERT INTO CHUYENBAY VALUES ('100', 'Tan Son Nhat International Airport, SGN', 'Cat Bi International Airport, HPH', '08:00', '17:59');
INSERT INTO CHUYENBAY VALUES ('112', 'Noi Bai International Airport, HAN', 'Tan Son Nhat International Airport, SGN', '14:00', '18:07');
INSERT INTO CHUYENBAY VALUES ('121', 'Da Nang International Airport, DAD', 'Chu Lai International Airport, VCL', '07:00', '09:13');
INSERT INTO CHUYENBAY VALUES ('122', 'Cam Ranh International Airport, CXR', 'Con Dao Airport, VCS', '08:30', '10:19');
INSERT INTO CHUYENBAY VALUES ('206', 'Phu Quoc International Airport, PQC', 'Dien Bien Phu Airport, DIN', '09:00', '11:40');
INSERT INTO CHUYENBAY VALUES ('330', 'Cat Bi International Airport, HPH', 'Dong Hoi Airport, VDH', '16:00', '18:53');
INSERT INTO CHUYENBAY VALUES ('334', 'Lien Khuong Airport, DLI', 'Pleiku Airport, PXU', '12:00', '14:14');
INSERT INTO CHUYENBAY VALUES ('335', 'Can Tho International Airport, VCA', 'Rach Gia Airport, VKG', '15:00', '17:14');
INSERT INTO CHUYENBAY VALUES ('336', 'Phu Bai International Airport, HUI', 'Tuy Hoa Airport, TBB', '18:00', '20:14');
INSERT INTO CHUYENBAY VALUES ('337', 'Buon Ma Thuot Airport, BMV', 'Noi Bai International Airport, HAN', '20:30', '23:53');
INSERT INTO CHUYENBAY VALUES ('394', 'Chu Lai International Airport, VCL', 'Da Nang International Airport, DAD', '19:00', '21:30');
INSERT INTO CHUYENBAY VALUES ('395', 'Con Dao Airport, VCS', 'Cam Ranh International Airport, CXR', '21:00', '23:43');
INSERT INTO CHUYENBAY VALUES ('449', 'Dien Bien Phu Airport, DIN', 'Phu Quoc International Airport, PQC', '10:00', '19:29');
INSERT INTO CHUYENBAY VALUES ('930', 'Dong Hoi Airport, VDH', 'Cat Bi International Airport, HPH', '13:00', '16:10');
INSERT INTO CHUYENBAY VALUES ('931', 'Pleiku Airport, PXU', 'Lien Khuong Airport, DLI', '17:00', '18:10');
INSERT INTO CHUYENBAY VALUES ('932', 'Rach Gia Airport, VKG', 'Can Tho International Airport, VCA', '18:00', '19:10');
INSERT INTO CHUYENBAY VALUES ('991', 'Tuy Hoa Airport, TBB', 'Phu Bai International Airport, HUI', '17:00', '18:22');


-- Nhập dữ liệu cho bảng LOAIMB
INSERT INTO LOAIMB VALUES ('A310', 'Airbus');
INSERT INTO LOAIMB VALUES ('A320', 'Airbus');
INSERT INTO LOAIMB VALUES ('A330', 'Airbus');
INSERT INTO LOAIMB VALUES ('A340', 'Airbus');
INSERT INTO LOAIMB VALUES ('B727', 'Boeing');
INSERT INTO LOAIMB VALUES ('B747', 'Boeing');
INSERT INTO LOAIMB VALUES ('B757', 'Boeing');
INSERT INTO LOAIMB VALUES ('DC10', 'MD');
INSERT INTO LOAIMB VALUES ('DC9', 'MD');

-- Nhập dữ liệu cho bảng NHANVIEN
INSERT INTO NHANVIEN VALUES ('1006', 'Dinh Thi Ngoc Chi', '12/6 Nguyen Kiem', '8120022', 150000, 0);
INSERT INTO NHANVIEN VALUES ('1005', 'Luong Quynh Giao', '65 Nguyen Thai Son', '8324467', 500000, 0);
INSERT INTO NHANVIEN VALUES ('1001', 'Ngo Thi Huong', '8 Dien Bien Phu', '8330733', 500000, 1);
INSERT INTO NHANVIEN VALUES ('1002', 'Pham Duc Luan', '1 Ly Thuong Kiet', '8308117', 150000, 1);
INSERT INTO NHANVIEN VALUES ('1004', 'Vu Minh Mau', '351 Lac Long Quan', '8308155', 250000, 0);
INSERT INTO NHANVIEN VALUES ('1003', 'Lai Thanh Nga', '78 Truong Dinh', '8324461', 350000, 1);
INSERT INTO NHANVIEN VALUES ('1007', 'Vo Thi Hoai Thu', '36 Nguyen Van Cu', '8458188', 500000, 0);

-- Nhập dữ liệu cho bảng KHANANG
INSERT INTO KHANANG VALUES ('1001', 'B727');
INSERT INTO KHANANG VALUES ('1001', 'B747');
INSERT INTO KHANANG VALUES ('1001', 'DC10');
INSERT INTO KHANANG VALUES ('1001', 'DC9');
INSERT INTO KHANANG VALUES ('1002', 'A320');
INSERT INTO KHANANG VALUES ('1002', 'A340');
INSERT INTO KHANANG VALUES ('1002', 'B757');
INSERT INTO KHANANG VALUES ('1002', 'DC9');
INSERT INTO KHANANG VALUES ('1003', 'A310');
INSERT INTO KHANANG VALUES ('1003', 'DC9');

-- Nhập dữ liệu cho bảng MAYBAY
INSERT INTO MAYBAY VALUES (10, 'B747');
INSERT INTO MAYBAY VALUES (11, 'B727');
INSERT INTO MAYBAY VALUES (13, 'B727');
INSERT INTO MAYBAY VALUES (13, 'B747');
INSERT INTO MAYBAY VALUES (21, 'DC10');
INSERT INTO MAYBAY VALUES (21, 'DC9');
INSERT INTO MAYBAY VALUES (22, 'B757');
INSERT INTO MAYBAY VALUES (22, 'DC9');
INSERT INTO MAYBAY VALUES (23, 'DC9');
INSERT INTO MAYBAY VALUES (24, 'DC9');
INSERT INTO MAYBAY VALUES (70, 'A310');
INSERT INTO MAYBAY VALUES (80, 'A310');
INSERT INTO MAYBAY VALUES (93, 'B757');

-- Nhập dữ liệu cho bảng LICHBAY
INSERT INTO LICHBAY VALUES ('2000-11-01', '100', 80, 'A310');
INSERT INTO LICHBAY VALUES ('2000-11-01', '112', 21, 'DC10');
INSERT INTO LICHBAY VALUES ('2000-11-01', '206', 22, 'DC9');
INSERT INTO LICHBAY VALUES ('2000-11-01', '334', 10, 'B747');
INSERT INTO LICHBAY VALUES ('2000-11-01', '395', 23, 'DC9');
INSERT INTO LICHBAY VALUES ('2000-11-01', '991', 22, 'B757');
INSERT INTO LICHBAY VALUES ('2000-11-01', '337', 10, 'B747');
INSERT INTO LICHBAY VALUES ('2000-10-31', '100', 11, 'B727');
INSERT INTO LICHBAY VALUES ('2000-10-31', '112', 11, 'B727');
INSERT INTO LICHBAY VALUES ('2000-10-31', '206', 13, 'B727');
INSERT INTO LICHBAY VALUES ('2000-10-31', '334', 10, 'B747');
INSERT INTO LICHBAY VALUES ('2000-10-31', '335', 10, 'B747');
INSERT INTO LICHBAY VALUES ('2000-10-31', '337', 24, 'DC9');
INSERT INTO LICHBAY VALUES ('2000-10-31', '449', 70, 'A310');

-- Nhập dữ liệu cho bảng DATCHO
INSERT INTO DATCHO VALUES ('0009', '2000-11-01', '100');
INSERT INTO DATCHO VALUES ('0009', '2000-10-31', '449');
INSERT INTO DATCHO VALUES ('0045', '2000-11-01', '991');
INSERT INTO DATCHO VALUES ('0012', '2000-10-31', '206');
INSERT INTO DATCHO VALUES ('0238', '2000-10-31', '334');
INSERT INTO DATCHO VALUES ('0582', '2000-11-01', '991');
INSERT INTO DATCHO VALUES ('0091', '2000-11-01', '100');
INSERT INTO DATCHO VALUES ('0314', '2000-10-31', '449');
INSERT INTO DATCHO VALUES ('0613', '2000-11-01', '100');
INSERT INTO DATCHO VALUES ('0586', '2000-11-01', '991');
INSERT INTO DATCHO VALUES ('0586', '2000-10-31', '100');
INSERT INTO DATCHO VALUES ('0422', '2000-10-31', '449');

-- Nhập dữ liệu cho bảng PHANCONG
INSERT INTO PHANCONG VALUES ('1001', '2000-11-01', '100');
INSERT INTO PHANCONG VALUES ('1001', '2000-10-31', '100');
INSERT INTO PHANCONG VALUES ('1002', '2000-11-01', '100');
INSERT INTO PHANCONG VALUES ('1002', '2000-10-31', '100');
INSERT INTO PHANCONG VALUES ('1003', '2000-10-31', '100');
INSERT INTO PHANCONG VALUES ('1003', '2000-10-31', '337');
INSERT INTO PHANCONG VALUES ('1004', '2000-10-31', '100');
INSERT INTO PHANCONG VALUES ('1004', '2000-10-31', '337');
INSERT INTO PHANCONG VALUES ('1005', '2000-10-31', '337');
INSERT INTO PHANCONG VALUES ('1006', '2000-11-01', '991');
INSERT INTO PHANCONG VALUES ('1006', '2000-10-31', '337');
INSERT INTO PHANCONG VALUES ('1007', '2000-11-01', '112');
INSERT INTO PHANCONG VALUES ('1007', '2000-11-01', '991');
INSERT INTO PHANCONG VALUES ('1007', '2000-10-31', '206');
